"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.blocks = [0, 1, 2, 3, 4, 5, 6, 7];
        this.size = 50;
        this.halfSize = this.size / 2;
        this.selected = false;
    }
    AppComponent.prototype.ngOnInit = function () {
        this.itemContainer = this.container.nativeElement;
        this.dragImageItem = this.dragImage.nativeElement;
        this.dragImageItem.translateX = 0;
        this.dragImageItem.translateY = 0;
        this.dragImageItem.scaleX = 0.5;
        this.dragImageItem.scaleY = 0.5;
    };
    AppComponent.prototype.onTouch = function (args, row, col) {
        console.log("Action is " + args.action + " on row " + row + " and col " + col);
        // console.log(this.isTrue);
        // this.isTrue[row][col] = true;
        // console.log(this.isTrue[row][col]);
    };
    AppComponent.prototype.onPan = function (args) {
        var x, y;
        var cell;
        if (this.size > 0) {
            x = Math.floor((args.view.translateX + this.halfSize) / this.size);
            y = Math.floor((args.view.translateY + this.halfSize) / this.size);
            cell = [x, y];
        }
        // console.log("Pana: [" + args.deltaX + ", " + args.deltaY + "] state: " + args.state);
        // console.log("Pana: [" + args.view.translateX + ", " + args.view.translateY + "]");
        console.log(cell);
        if (args.state === 1) {
            this.selected = false;
            this.dragImageItem.scaleX = 1;
            this.dragImageItem.scaleY = 1;
            this.prevDeltaX = 0;
            this.prevDeltaY = 0;
            this.dragImageItem.translateX = 0;
            this.dragImageItem.translateY = 50;
        }
        else if (args.state === 2) {
            this.selected = true;
            this.rowN = cell[1];
            this.colN = cell[0];
            this.dragImageItem.scaleX = 1;
            this.dragImageItem.scaleY = 1;
            this.dragImageItem.translateX += args.deltaX - this.prevDeltaX;
            this.dragImageItem.translateY += args.deltaY - this.prevDeltaY;
            if (this.dragImageItem.translateX < 0) {
                this.dragImageItem.translateX = 0;
            }
            if (this.dragImageItem.translateX > 350) {
                this.dragImageItem.translateX = 350;
            }
            if (this.dragImageItem.translateY < 0) {
                this.dragImageItem.translateY = 0;
            }
            if (this.dragImageItem.translateY > 350) {
                this.dragImageItem.translateY = 350;
            }
            this.prevDeltaX = args.deltaX;
            this.prevDeltaY = args.deltaY;
        }
        else if (args.state === 3) {
            this.selected = false;
            this.dragImageItem.scaleX = 1;
            this.dragImageItem.scaleY = 1;
        }
    };
    __decorate([
        core_1.ViewChild("dragImage"),
        __metadata("design:type", core_1.ElementRef)
    ], AppComponent.prototype, "dragImage", void 0);
    __decorate([
        core_1.ViewChild("container"),
        __metadata("design:type", core_1.ElementRef)
    ], AppComponent.prototype, "container", void 0);
    AppComponent = __decorate([
        core_1.Component({
            selector: "my-app",
            templateUrl: "./app.component.html",
            styleUrls: ["./app.component.css"]
        })
    ], AppComponent);
    return AppComponent;
}());
exports.AppComponent = AppComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBeUU7QUFXekU7SUFMQTtRQU9FLFdBQU0sR0FBYSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM1QyxTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLGFBQVEsR0FBVyxJQUFJLENBQUMsSUFBSSxHQUFDLENBQUMsQ0FBQztRQUMvQixhQUFRLEdBQVksS0FBSyxDQUFDO0lBNEY1QixDQUFDO0lBN0VRLCtCQUFRLEdBQWY7UUFDRSxJQUFJLENBQUMsYUFBYSxHQUFlLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDO1FBQzlELElBQUksQ0FBQyxhQUFhLEdBQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7UUFDekQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDaEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ2xDLENBQUM7SUFFRCw4QkFBTyxHQUFQLFVBQVEsSUFBMkIsRUFBRSxHQUFHLEVBQUUsR0FBRztRQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWEsSUFBSSxDQUFDLE1BQU0sZ0JBQVcsR0FBRyxpQkFBWSxHQUFLLENBQUMsQ0FBQztRQUNyRSw0QkFBNEI7UUFDNUIsZ0NBQWdDO1FBQ2hDLHNDQUFzQztJQUN4QyxDQUFDO0lBRUQsNEJBQUssR0FBTCxVQUFNLElBQXlCO1FBQzdCLElBQUksQ0FBQyxFQUFDLENBQVMs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LEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDaEMsQ0FBQztRQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUMxQixDQUFDO1lBQ0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQyxDQUFDO0lBQ0gsQ0FBQztJQXZGdUI7UUFBdkIsZ0JBQVMsQ0FBQyxXQUFXLENBQUM7a0NBQVksaUJBQVU7bURBQUM7SUFDdEI7UUFBdkIsZ0JBQVMsQ0FBQyxXQUFXLENBQUM7a0NBQVksaUJBQVU7bURBQUM7SUFWbkMsWUFBWTtRQUx4QixnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLFFBQVE7WUFDbEIsV0FBVyxFQUFFLHNCQUFzQjtZQUNuQyxTQUFTLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztTQUNuQyxDQUFDO09BQ1csWUFBWSxDQWlHeEI7SUFBRCxtQkFBQztDQUFBLEFBakdELElBaUdDO0FBakdZLG9DQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBQYW5HZXN0dXJlRXZlbnREYXRhIH0gZnJvbSBcInVpL2dlc3R1cmVzXCI7XG5pbXBvcnQgeyBUb3VjaEdlc3R1cmVFdmVudERhdGEgfSBmcm9tIFwidWkvZ2VzdHVyZXNcIjtcbmltcG9ydCB7IEltYWdlIH0gZnJvbSBcInVpL2ltYWdlXCI7XG5pbXBvcnQgeyBHcmlkTGF5b3V0IH0gZnJvbSBcInVpL2xheW91dHMvZ3JpZC1sYXlvdXRcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiBcIm15LWFwcFwiLFxuICB0ZW1wbGF0ZVVybDogXCIuL2FwcC5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vYXBwLmNvbXBvbmVudC5jc3NcIl1cbn0pXG5leHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBibG9ja3M6IG51bWJlcltdID0gWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddO1xuICBzaXplOiBudW1iZXIgPSA1MDtcbiAgaGFsZlNpemU6IG51bWJlciA9IHRoaXMuc2l6ZS8yO1xuICBzZWxlY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBjb2xOOiBudW1iZXI7XG4gIHJvd046IG51bWJlcjtcbiAgLy8gWW91ciBUeXBlU2NyaXB0IGxvZ2ljIGdvZXMgaGVyZVxuICBAVmlld0NoaWxkKFwiZHJhZ0ltYWdlXCIpIGRyYWdJbWFnZTogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZChcImNvbnRhaW5lclwiKSBjb250YWluZXI6IEVsZW1lbnRSZWY7XG5cbiAgZHJhZ0ltYWdlSXRlbTogSW1hZ2U7XG4gIHByZXZEZWx0YVg6IG51bWJlcjtcbiAgcHJldkRlbHRhWTogbnVtYmVyO1xuICBpc1RydWU6IGJvb2xlYW47XG5cbiAgaXRlbUNvbnRhaW5lcjogR3JpZExheW91dDtcblxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLml0ZW1Db250YWluZXIgPSA8R3JpZExheW91dD50aGlzLmNvbnRhaW5lci5uYXRpdmVFbGVtZW50O1xuICAgIHRoaXMuZHJhZ0ltYWdlSXRlbSA9IDxJbWFnZT50aGlzLmRyYWdJbWFnZS5uYXRpdmVFbGVtZW50O1xuICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVYID0gMDtcbiAgICB0aGlzLmRyYWdJbWFnZUl0ZW0udHJhbnNsYXRlWSA9IDA7XG4gICAgdGhpcy5kcmFnSW1hZ2VJdGVtLnNjYWxlWCA9IDAuNTtcbiAgICB0aGlzLmRyYWdJbWFnZUl0ZW0uc2NhbGVZID0gMC41O1xuICB9XG5cbiAgb25Ub3VjaChhcmdzOiBUb3VjaEdlc3R1cmVFdmVudERhdGEsIHJvdywgY29sKXtcbiAgICBjb25zb2xlLmxvZyhgQWN0aW9uIGlzICR7YXJncy5hY3Rpb259IG9uIHJvdyAke3Jvd30gYW5kIGNvbCAke2NvbH1gKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlzVHJ1ZSk7XG4gICAgLy8gdGhpcy5pc1RydWVbcm93XVtjb2xdID0gdHJ1ZTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlzVHJ1ZVtyb3ddW2NvbF0pO1xuICB9XG5cbiAgb25QYW4oYXJnczogUGFuR2VzdHVyZUV2ZW50RGF0YSkge1xuICAgIHZhciB4LHk6IG51bWJlcjtcbiAgICB2YXIgY2VsbDogbnVtYmVyW107XG5cbiAgICBpZih0aGlzLnNpemUgPiAwKXtcbiAgICAgIHggPSBNYXRoLmZsb29yKChhcmdzLnZpZXcudHJhbnNsYXRlWCArIHRoaXMuaGFsZlNpemUpL3RoaXMuc2l6ZSk7XG4gICAgICB5ID0gTWF0aC5mbG9vcigoYXJncy52aWV3LnRyYW5zbGF0ZVkgKyB0aGlzLmhhbGZTaXplKS90aGlzLnNpemUpO1xuICAgICAgY2VsbCA9IFt4LCB5XTtcbiAgICB9XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2coXCJQYW5hOiBbXCIgKyBhcmdzLmRlbHRhWCArIFwiLCBcIiArIGFyZ3MuZGVsdGFZICsgXCJdIHN0YXRlOiBcIiArIGFyZ3Muc3RhdGUpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiUGFuYTogW1wiICsgYXJncy52aWV3LnRyYW5zbGF0ZVggKyBcIiwgXCIgKyBhcmdzLnZpZXcudHJhbnNsYXRlWSArIFwiXVwiKTtcbiAgICBjb25zb2xlLmxvZyhjZWxsKTtcbiAgICBpZiAoYXJncy5zdGF0ZSA9PT0gMSkgLy8gZG93blxuICAgIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS5zY2FsZVggPSAxO1xuICAgICAgdGhpcy5kcmFnSW1hZ2VJdGVtLnNjYWxlWSA9IDE7XG4gICAgICB0aGlzLnByZXZEZWx0YVggPSAwO1xuICAgICAgdGhpcy5wcmV2RGVsdGFZID0gMDtcbiAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVYID0gMDtcbiAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVZID0gNTA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3Muc3RhdGUgPT09IDIpIC8vIHBhbm5pbmdcbiAgICB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucm93TiA9IGNlbGxbMV07XG4gICAgICB0aGlzLmNvbE4gPSBjZWxsWzBdO1xuXG4gICAgICB0aGlzLmRyYWdJbWFnZUl0ZW0uc2NhbGVYID0gMTtcbiAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS5zY2FsZVkgPSAxO1xuXG4gICAgICB0aGlzLmRyYWdJbWFnZUl0ZW0udHJhbnNsYXRlWCArPSBhcmdzLmRlbHRhWCAtIHRoaXMucHJldkRlbHRhWDtcbiAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVZICs9IGFyZ3MuZGVsdGFZIC0gdGhpcy5wcmV2RGVsdGFZO1xuICBcbiAgICAgIGlmKHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVYIDwgMCl7XG4gICAgICAgIHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVYID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5kcmFnSW1hZ2VJdGVtLnRyYW5zbGF0ZVggPiAzNTApe1xuICAgICAgICB0aGlzLmRyYWdJbWFnZUl0ZW0udHJhbnNsYXRlWCA9IDM1MDtcbiAgICAgIH0gICAgIFxuICAgICAgXG4gICAgICBpZih0aGlzLmRyYWdJbWFnZUl0ZW0udHJhbnNsYXRlWSA8IDApe1xuICAgICAgICB0aGlzLmRyYWdJbWFnZUl0ZW0udHJhbnNsYXRlWSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuZHJhZ0ltYWdlSXRlbS50cmFuc2xhdGVZID4gMzUwKXtcbiAgICAgICAgdGhpcy5kcmFnSW1hZ2VJdGVtLnRyYW5zbGF0ZVkgPSAzNTA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJldkRlbHRhWCA9IGFyZ3MuZGVsdGFYO1xuICAgICAgdGhpcy5wcmV2RGVsdGFZID0gYXJncy5kZWx0YVk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3Muc3RhdGUgPT09IDMpIC8vIHVwXG4gICAge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcmFnSW1hZ2VJdGVtLnNjYWxlWCA9IDE7XG4gICAgICB0aGlzLmRyYWdJbWFnZUl0ZW0uc2NhbGVZID0gMTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==